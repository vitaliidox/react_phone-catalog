(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(33).concat([function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n,a,s,r=c(27),i=c.n(r),o=c(5),l=c(2),u=(c(33),c(34),c(4)),j=c(1),b=(c(35),c(7)),d=c.n(b),O=c(28),m=c.p+"static/media/Logo.13ce922e.svg",p=c.p+"static/media/favourites.dbd19c03.svg",h=c.p+"static/media/favourites-red.d554a185.svg",_=c.p+"static/media/cart.9229aff4.svg";c(36);!function(e){e.Home="home",e.Phones="phones",e.Tablets="tablets",e.Accessories="accessories",e.Favourites="favourites",e.Cart="cart"}(n||(n={})),function(e){e.Newest="Newest",e.Alphabetically="Alphabetically",e.Cheapest="Cheapest"}(a||(a={})),function(e){e.Four="4",e.Eight="8",e.Sixteen="16",e.All="All"}(s||(s={}));var f,x=c(0),g=function(e){var t=e.isActive;return Object(x.jsx)("nav",{className:"navigation",children:Object(x.jsxs)("ul",{className:"navigation__list",children:[Object(x.jsx)("li",{className:"navigation__item",children:Object(x.jsx)(o.c,{className:d()("navigation__link",{"navigation__link--active":t.includes(n.Home)}),to:"/",children:Object(x.jsx)("p",{className:d()("navigation__text-link",{"navigation__text-link--active":t.includes(n.Home)}),children:"home"})})}),Object(x.jsx)("li",{className:"navigation__item",children:Object(x.jsx)(o.c,{className:d()("navigation__link",{"navigation__link--active":t.includes(n.Phones)}),to:"/phones",children:Object(x.jsx)("p",{className:d()("navigation__text-link",{"navigation__text-link--active":t.includes(n.Phones)}),children:"phones"})})}),Object(x.jsx)("li",{className:"navigation__item",children:Object(x.jsx)(o.c,{className:d()("navigation__link",{"navigation__link--active":t.includes(n.Tablets)}),to:"/tablets",children:Object(x.jsx)("p",{className:d()("navigation__text-link",{"navigation__text-link--active":t.includes(n.Tablets)}),children:"tablets"})})}),Object(x.jsx)("li",{className:"navigation__item",children:Object(x.jsx)(o.c,{className:d()("navigation__link",{"navigation__link--active":t.includes(n.Accessories)}),to:"/accessories",children:Object(x.jsx)("p",{className:d()("navigation__text-link",{"navigation__text-link--active":t.includes(n.Accessories)}),children:"ccessories"})})})]})})},v=function(){var e=Object(u.l)(),t=Object(o.d)(),c=Object(l.a)(t,2),a=c[0],s=c[1],r=Object(j.useState)("/"),i=Object(l.a)(r,2),b=i[0],f=i[1],v=Object(j.useState)(null),N=Object(l.a)(v,2),y=N[0],k=N[1],w=Object(j.useState)(null),C=Object(l.a)(w,2),S=C[0],T=C[1],E=Object(j.useState)(""),A=Object(l.a)(E,2),F=A[0],P=A[1],I=Object(O.c)(F,500),L=Object(j.useCallback)((function(){a.set("page","1"),s(a)}),[I]),J=Object(j.useCallback)((function(){if(!I)return a.delete("query"),void s(a);L(),a.set("query",I),s(a)}),[I]),B=Object(j.useCallback)((function(e){return window.localStorage.getItem(e)?JSON.parse(window.localStorage.getItem(e)||""):null}),[]),M=Object(j.useCallback)((function(){switch(e.pathname){case"/phones":case"/tablets":case"/accessories":case"/favourites":return!0;default:return!1}}),[e]),R=Object(j.useCallback)((function(){var t=e.pathname.substring(1)||"home";f(t)}),[e]),q=Object(j.useCallback)((function(){P("")}),[]);return Object(j.useEffect)((function(){q(),R()}),[e.pathname]),Object(j.useEffect)((function(){J()}),[I]),Object(j.useEffect)((function(){return window.dispatchEvent(new Event("storage")),T(B(n.Favourites)),k(B(n.Cart)),R(),window.addEventListener("storage",(function(){T(B(n.Favourites)),k(B(n.Cart))})),function(){return window.removeEventListener("storage",(function(){T(B(n.Favourites)),k(B(n.Cart))}))}}),[]),Object(x.jsxs)("header",{className:"header",children:[Object(x.jsxs)("div",{className:"header__items-block",children:[Object(x.jsx)(o.b,{to:"/",className:"header__link-logo",onClick:function(){return f(n.Home)},children:Object(x.jsx)("img",{className:"header__logo",src:m,alt:"Page logo"})}),Object(x.jsx)(g,{isActive:b})]}),Object(x.jsxs)("div",{className:"header__items-block",children:[M()&&Object(x.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},className:"header__search-form",children:[Object(x.jsx)("input",{type:"text",placeholder:"Search in phones...",className:"header__search-input",value:F,onChange:function(e){return P(e.target.value)}}),I.length>0?Object(x.jsx)("button",{className:"header__button header__button--close","data-cy":"searchDelete",type:"submit","aria-label":"delete",onMouseUp:q}):Object(x.jsx)("div",{className:"header__button header__button--search"})]}),Object(x.jsx)(o.b,{to:"favourites",className:d()("header__icon-link",{"header__icon-link--active":b===n.Favourites}),onClick:function(){return f(n.Favourites)},children:Object(x.jsxs)("div",{className:"header__icon-link-wrapper",children:[S&&S.length>0?Object(x.jsx)("img",{src:h,alt:"Favourites"}):Object(x.jsx)("img",{src:p,alt:"Favourites"}),S&&S.length>1&&Object(x.jsx)("div",{className:"header__ellipse",children:S.length})]})}),Object(x.jsx)(o.b,{to:"cart",className:d()("header__icon-link",{"header__icon-link--active":b===n.Cart}),onClick:function(){return f(n.Cart)},children:Object(x.jsxs)("div",{className:"header__icon-link-wrapper",children:[Object(x.jsx)("img",{src:_,alt:"Cart"}),y&&y.length>0&&Object(x.jsx)("div",{className:"header__ellipse",children:y.length})]})})]})]})},N=(c(38),function(e){var t=e.pageUp,c=Object(u.l)();return Object(j.useEffect)((function(){t()}),[c.pathname]),Object(x.jsxs)("footer",{className:"Footer",children:[Object(x.jsx)(o.b,{to:"home",className:"Footer__link-logo",children:Object(x.jsx)("img",{className:"Footer__logo",src:m,alt:"Page logo"})}),Object(x.jsxs)("ul",{className:"Footer__contacts-list",children:[Object(x.jsx)("li",{className:"Footer__item",children:Object(x.jsx)(o.b,{to:"https://github.com/vitaliidox/react_phone-catalog",target:"_blank",className:"Footer__contact-item",children:"Github"})}),Object(x.jsx)("li",{className:"Footer__item",children:Object(x.jsx)(o.b,{to:"contacts",className:"Footer__contact-item",children:"Contacts"})}),Object(x.jsx)("li",{className:"Footer__item",children:Object(x.jsx)(o.b,{to:"rights",className:"Footer__contact-item",children:"Rights"})})]}),Object(x.jsxs)("div",{className:"Footer__go-up-items",children:[Object(x.jsx)(o.b,{className:"Footer__link-back-top",to:"#start",onClick:t,children:"Back to top"}),Object(x.jsx)("button",{type:"button","aria-label":"back-top",className:"Footer__link-button-back-top",onClick:t})]})]})}),y=(c(39),c(40),c(41),function(){return Object(x.jsx)("div",{className:"spinner",children:Object(x.jsx)("div",{className:"spinner__loading"})})}),k=(c(42),c(8)),w=function(e,t){var c=window.localStorage.getItem(e);if(!c)return window.localStorage.setItem(e,JSON.stringify([t])),void window.dispatchEvent(new Event("storage"));for(var n=JSON.parse(c),a=0;a<n.length;a+=1){if(n[a].id===t.id&&"favourites"===e){var s=Object(k.a)(n);s.splice(a,1);var r=Object(k.a)(s);return window.localStorage.setItem(e,JSON.stringify(Object(k.a)(r))),void window.dispatchEvent(new Event("storage"))}if(n[a].id===t.id)return}window.localStorage.setItem(e,JSON.stringify([].concat(Object(k.a)(n),[t]))),window.dispatchEvent(new Event("storage"))},C=function(e,t){if(!e)return!1;for(var c=0;c<e.length;c+=1)if(e[c].id===t.id)return!0;return!1},S=function(e){var t=window.localStorage.getItem("cart");t&&e(JSON.parse(t))},T=function(e){var t=window.localStorage.getItem("favourites");t&&e(JSON.parse(t))},E=function(e){var t=e.product,c=Object(j.useState)(null),n=Object(l.a)(c,2),a=n[0],s=n[1],r=Object(j.useState)(null),i=Object(l.a)(r,2),u=i[0],b=i[1],O=t.type,m=t.imageUrl,p=t.name,h=t.price,_=t.discount,f=t.screen,g=t.capacity,v=t.ram,N=h*((100-_)/100);return Object(j.useEffect)((function(){return S(s),T(b),window.addEventListener("storage",(function(){S(s),T(b)})),function(){return window.removeEventListener("storage",(function(){S(s),T(b)}))}}),[]),Object(x.jsxs)("article",{"data-cy":"cardsContainer",className:"product-card",children:[Object(x.jsx)(o.b,{to:"/".concat(O,"s/").concat(t.id),children:Object(x.jsx)("div",{className:"product-card__image-wrapper",children:Object(x.jsx)("img",{className:"product-card__image",src:m,alt:"product"})})}),Object(x.jsxs)("div",{className:"product-card__main-info",children:[Object(x.jsx)(o.b,{to:"/".concat(O,"s/").concat(t.id),className:"product-card__name",children:p}),Object(x.jsxs)("div",{className:"product-card__price-wrapper",children:[Object(x.jsx)("p",{className:"product-card__price",children:"$".concat(N)}),_?Object(x.jsx)("p",{className:"product-card__old-price",children:"$".concat(h)}):""]})]}),Object(x.jsxs)("ul",{className:"product-card__technical-data",children:[Object(x.jsxs)("li",{className:"product-card__technical-data-item",children:[Object(x.jsx)("p",{className:"product-card__technical-data-name",children:"Screen"}),Object(x.jsx)("p",{className:"product-card__technical-data-info",children:f})]}),Object(x.jsxs)("li",{className:"product-card__technical-data-item",children:[Object(x.jsx)("p",{className:"product-card__technical-data-name",children:"Capacity"}),Object(x.jsx)("p",{className:"product-card__technical-data-info",children:g||"- "})]}),Object(x.jsxs)("li",{className:"product-card__technical-data-item",children:[Object(x.jsx)("p",{className:"product-card__technical-data-name",children:"RAM"}),Object(x.jsx)("p",{className:"product-card__technical-data-info",children:v||"-"})]})]}),Object(x.jsxs)("div",{className:"product-card__buttons",children:[Object(x.jsx)("button",{className:d()("product-card__button-add",{"product-card__button-add--selected":C(a,t)}),type:"button",onClick:function(){return w("cart",t)},children:C(a,t)?"Added to cart":"Add to cart"}),Object(x.jsx)("button",{className:d()("product-card__button-favourite",{"product-card__button-favourite--selected":C(u,t)}),type:"button","aria-label":"add to favourites","data-cy":"addToFavorite",onClick:function(){return w("favourites",t)}})]})]})},A=function(e){var t=e.title,c=e.products,n=e.isLoading,a=Object(j.useState)(0),s=Object(l.a)(a,2),r=s[0],i=s[1],o=function(e){var t=c.length;switch(e){case"prev":if(0===r){i(-288*(t-4));break}if(r+1152>0){i(0);break}i((function(e){return e+1152}));break;case"next":if(r===-288*(t-4)){i(0);break}if(r-1152<-288*(t-4)){i(-288*(t-4));break}i((function(e){return e-1152}));break;default:i(0)}};return Object(j.useEffect)((function(){var e=setTimeout((function(){o("next")}),5e3);return function(){return clearTimeout(e)}}),[c,r]),Object(x.jsx)("article",{className:"products-slider",children:n?Object(x.jsx)(y,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"products-slider__head",children:[Object(x.jsx)("h2",{className:"products-slider__title",children:t}),Object(x.jsx)("button",{className:"products-slider__button products-slider__button--prev",type:"button","aria-label":"prev",onClick:function(){return o("prev")}}),Object(x.jsx)("button",{className:"products-slider__button products-slider__button--next",type:"button","aria-label":"next",onClick:function(){return o("next")}})]}),Object(x.jsx)("div",{className:"products-slider__carousel",style:{transform:"translateX(".concat(r,"px)")},children:c.map((function(e){return Object(x.jsx)(E,{product:e},"".concat(e.id))}))})]})})},F=(c(43),c.p+"static/media/banner-phones.b4eeda8b.png"),P=c.p+"static/media/banner-tablets.a962057c.png",I=c.p+"static/media/banner-accessories.bdd2e0fc.png",L=function(){var e=Object(j.useState)(0),t=Object(l.a)(e,2),c=t[0],n=t[1],a=[[F,"phones"],[P,"tablets"],[I,"accessories"]],s=1040,r=function(e){var t=a.length;switch(e){case"prev":if(0===c){n(-1040*(t-1));break}n((function(e){return e+s}));break;case"next":if(c===-1040*(t-1)){n(0);break}n((function(e){return e-s}));break;default:n(0)}};return Object(j.useEffect)((function(){var e=setTimeout((function(){r("next")}),5e3);return function(){return clearTimeout(e)}}),[c]),Object(x.jsxs)("article",{className:"banner-slider",children:[Object(x.jsxs)("div",{className:"banner-slider__basic",children:[Object(x.jsx)("button",{className:"banner-slider__button banner-slider__button--prev",type:"button","aria-label":"button-prev",onClick:function(){return r("prev")}}),Object(x.jsx)("div",{className:"banner-slider__carousel",children:Object(x.jsx)("div",{className:"banner-slider__inner",style:{transform:"translateX(".concat(c,"px)")},children:a.map((function(e){return Object(x.jsx)("div",{className:"banner-slider__carousel-item",children:Object(x.jsx)(o.b,{to:e[1],children:Object(x.jsx)("img",{className:"banner-slider__carousel-image",src:e[0],alt:"banner-img"})})},e[0])}))})}),Object(x.jsx)("button",{className:"banner-slider__button banner-slider__button--next",type:"button","aria-label":"button-next",onClick:function(){return r("next")}})]}),Object(x.jsx)("div",{className:"banner-slider__indacators-wrapper",children:[0,1,2].map((function(e,t){return Object(x.jsx)("div",{className:d()("banner-slider__indicator",{"banner-slider__indicator--active":-c/s===t})},"".concat(t+e))}))})]})},J=(c(44),c.p+"static/media/category-phones.af93d992.png"),B=c.p+"static/media/category-tablets.51782e18.png",M=c.p+"static/media/category-accessories.e47d6d6d.png";!function(e){e.Phone="phone",e.Tablet="tablet",e.Accesorie="accessories"}(f||(f={}));var R,q=function(e){var t=e.products,c=function(e){return t.filter((function(t){return t.type===e})).length};return Object(x.jsxs)("article",{className:"shop-by-category",children:[Object(x.jsx)("h2",{className:"shop-by-category__title",children:"Shop by category"}),Object(x.jsxs)("div",{"data-cy":"categoryLinksContainer",className:"shop-by-category__categories",children:[Object(x.jsxs)("div",{className:"shop-by-category__card",children:[Object(x.jsx)(o.b,{to:"phones",className:"shop-by-category__img-wrapper shop-by-category__img-wrapper--phones",children:Object(x.jsx)("img",{src:J,alt:"mobile phones"})}),Object(x.jsx)(o.b,{to:"phone",className:"shop-by-category__name",children:"Mobile phones"}),Object(x.jsx)("p",{className:"shop-by-category__models-number",children:"".concat(c(f.Phone)," models")})]}),Object(x.jsxs)("div",{className:"shop-by-category__card",children:[Object(x.jsx)(o.b,{to:"/tablets",className:"shop-by-category__img-wrapper shop-by-category__img-wrapper--tablets",children:Object(x.jsx)("img",{src:B,alt:"tablets"})}),Object(x.jsx)(o.b,{to:"/tablets",className:"shop-by-category__name",children:"Tablets"}),Object(x.jsx)("p",{className:"shop-by-category__models-number",children:"".concat(c(f.Tablet)," models")})]}),Object(x.jsxs)("div",{className:"shop-by-category__card",children:[Object(x.jsx)(o.b,{to:"accessories",className:"shop-by-category__img-wrapper shop-by-category__img-wrapper--accessories",children:Object(x.jsx)("img",{src:M,alt:"accessories"})}),Object(x.jsx)(o.b,{to:"accessories",className:"shop-by-category__name",children:"Accessories"}),Object(x.jsx)("p",{className:"shop-by-category__models-number",children:"".concat(c(f.Accesorie)," models")})]})]})]})},D=function(e){var t=e.products,c=e.isLoading,n=Object(j.useCallback)((function(){return t.filter((function(e){return e.discount})).sort((function(e,t){return t.price*((100-t.discount)/100)-e.price*((100-e.discount)/100)}))}),[t]),a=Object(j.useCallback)((function(){return t.filter((function(e){return!e.discount})).sort((function(e,t){return t.price-e.price}))}),[t]);return Object(x.jsxs)("section",{className:"home",children:[Object(x.jsx)(L,{}),Object(x.jsx)(A,{isLoading:c,products:n(),title:"Hot prices"}),Object(x.jsx)(q,{products:t}),Object(x.jsx)(A,{isLoading:c,products:a(),title:"Brand new models"})]})},U=(c(45),c(46),c.p+"static/media/arrow-disabled.df6c57d0.svg"),H=c.p+"static/media/home.d4c29e4f.svg",$=function(){var e=Object(u.l)().pathname.split("/").filter((function(e){return"%"!==e&&"#"!==e&&e})).map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)}));return Object(x.jsx)("article",{"data-cy":"breadCrumbs",className:"breadcrumb",children:Object(x.jsxs)("ul",{className:"breadcrumb__list",children:[Object(x.jsx)("li",{className:"breadcrumb__item",children:Object(x.jsx)(o.b,{className:"breadcrumb__home-link",to:"/",children:Object(x.jsx)("img",{className:"breadcrumb__img-home",src:H,alt:"home"})})}),e.map((function(e,t,c){return Object(x.jsxs)("li",{className:"breadcrumb__item",children:[Object(x.jsx)("img",{className:"breadcrumb__img-arrow",src:U,alt:"arrow"}),c.length>=1&&t===c.length-1?Object(x.jsx)("p",{className:"breadcrumb__page breadcrumb__page--light",children:e}):Object(x.jsx)(o.b,{to:"/".concat(e.toLowerCase()),className:"breadcrumb__page",children:e})]},"".concat(t+c.length))}))]})})},W=(c(47),function(){var e=Object(j.useState)(null),t=Object(l.a)(e,2),c=t[0],n=t[1],r=Object(o.d)(),i=Object(l.a)(r,2),u=i[0],b=i[1],O=Object(j.useMemo)((function(){return function(e){n(!c&&e?e:null)}}),[c]),m=function(e,t){"perPage"===e&&(u.set("page","1"),b(u)),u.set(e,t),b(u),O(e)};return Object(x.jsxs)("div",{className:"form",children:[Object(x.jsxs)("div",{className:"form__item",children:[Object(x.jsx)("div",{className:"form__label",children:"Sort by"}),Object(x.jsxs)("div",{className:d()("form__select",{"form__select form__select--active":"sort"===c}),onBlur:function(e){e.currentTarget.contains(e.relatedTarget)||O(null)},children:[Object(x.jsx)("button",{type:"button","data-form":"sort",className:"form__selected-option",onClick:function(e){return O(e.currentTarget.dataset.form||null)},children:u.get("sort")||a.Newest}),Object(x.jsxs)("div",{className:d()("form__options-wrapper",{"form__options-wrapper--active":"sort"===c}),onBlur:function(e){e.currentTarget.contains(e.relatedTarget)||O(null)},children:[Object(x.jsx)("button",{className:"form__option",type:"button",onClick:function(e){return m("sort",e.currentTarget.innerText)},children:a.Newest}),Object(x.jsx)("button",{className:"form__option",type:"button",onClick:function(e){return m("sort",e.currentTarget.innerText)},children:a.Alphabetically}),Object(x.jsx)("button",{className:"form__option",type:"button",onClick:function(e){return m("sort",e.currentTarget.innerText)},children:a.Cheapest})]})]})]}),Object(x.jsxs)("div",{className:"form__item form__item--numbers",children:[Object(x.jsx)("div",{className:"form__label",children:"Items on page"}),Object(x.jsxs)("div",{className:d()("form__select form__select--numbers",{"form__select--active":"perPage"===c}),onBlur:function(e){e.currentTarget.contains(e.relatedTarget)||O(null)},children:[Object(x.jsx)("button",{type:"button","data-form":"perPage",className:"form__selected-option",onClick:function(e){return O(e.currentTarget.dataset.form||null)},children:u.get("perPage")||s.Sixteen}),Object(x.jsxs)("div",{className:d()("form__options-wrapper",{"form__options-wrapper--active":"perPage"===c}),children:[Object(x.jsx)("button",{className:"form__option",type:"button",onClick:function(e){return m("perPage",e.currentTarget.innerText)},children:s.Four}),Object(x.jsx)("button",{className:"form__option",type:"button",onClick:function(e){return m("perPage",e.currentTarget.innerText)},children:s.Eight}),Object(x.jsx)("button",{className:"form__option",type:"button",onClick:function(e){return m("perPage",e.currentTarget.innerText)},children:s.Sixteen}),Object(x.jsx)("button",{className:"form__option",type:"button",onClick:function(e){return m("perPage",e.currentTarget.innerText)},children:s.All})]})]})]})]})}),z=(c(48),function(e){var t=e.category,c=t.charAt(0).toUpperCase()+t.slice(1);return Object(x.jsx)("section",{className:"no-results",children:Object(x.jsx)("h1",{className:"no-results__title",children:"".concat(c," not found")})})}),X=(c(49),c(50),function(e){var t=e.pages,c=Object(o.d)(),n=Object(l.a)(c,2),a=n[0],s=n[1],r=Object(j.useCallback)((function(){var e=a.get("page");return e?+e-1:0}),[t]),i=Object(j.useState)(r()),u=Object(l.a)(i,2),b=u[0],O=u[1],m=Object(j.useCallback)((function(){a.set("page","".concat(b+1)),s(a)}),[b]);return Object(j.useEffect)((function(){O(r())}),[t]),Object(j.useEffect)((function(){m()}),[b]),Object(x.jsxs)("article",{className:"pagination",children:[Object(x.jsx)("button",{"data-cy":"paginationLeft",className:"pagination__button",type:"button","aria-label":"previous page",onClick:function(){return O((function(e){return e-1}))},disabled:t[0]===b}),Object(x.jsx)("div",{className:"pagination__container",children:Object(x.jsx)("ul",{className:"pagination__page-list",children:t.map((function(e){return Object(x.jsx)("li",{className:"pagination__page",children:Object(x.jsx)("button",{className:d()("pagination__link",{"pagination__link--active":e===b}),type:"button",onClick:function(){return O(e)},children:e+1})},e)}))})}),Object(x.jsx)("button",{"data-cy":"paginationRight",className:"pagination__button pagination__button-next",type:"button","aria-label":"next page",onClick:function(){return O((function(e){return e+1}))},disabled:t[t.length-1]===b})]})}),Y=function(e){var t=e.products,c=Object(j.useState)([]),n=Object(l.a)(c,2),r=n[0],i=n[1],u=Object(j.useState)([]),b=Object(l.a)(u,2),d=b[0],O=b[1],m=Object(j.useState)([]),p=Object(l.a)(m,2),h=p[0],_=p[1],f=Object(o.d)(),g=Object(l.a)(f,1)[0],v=Object(j.useCallback)((function(){var e=g.get("perPage");switch(e){case s.All:return t.length;case null:return+s.Sixteen;default:return+e}}),[g]),N=Object(j.useCallback)((function(e){var t=Object(k.a)(e);t.sort((function(e,t){switch(g.get("sort")){case a.Alphabetically:return e.name.localeCompare(t.name);case a.Cheapest:return e.price*((100-e.discount)/100)-t.price*((100-t.discount)/100);default:return e.age-t.age}})),O(t)}),[g]),y=Object(j.useCallback)((function(e){var c=+(g.get("page")||1),n=v(),a=(c-1)*n,s=[];if(n!==t.length)if(e.length){for(var r=a;r<c*n;r+=1)e[r]&&(s=[].concat(Object(k.a)(s),[e[r]]));_(s)}else _([]);else _(Object(k.a)(e))}),[d,g.get("perPage"),g.get("page")]),w=Object(j.useCallback)((function(){return v()<t.length}),[t,v()]),C=Object(j.useCallback)((function(){if(v()===t.length)return[];var e=Math.ceil(t.length/v());return Array.from(Array(e).keys())}),[v(),g]);return Object(j.useEffect)((function(){i(C)}),[g]),Object(j.useEffect)((function(){N(t)}),[g.get("sort"),t]),Object(j.useEffect)((function(){y(d)}),[d,g.get("perPage"),g.get("page")]),Object(x.jsxs)("section",{className:"products-list",children:[Object(x.jsx)("div",{className:"products-list__products",children:h.map((function(e){return Object(x.jsx)("div",{className:"products-list__product-item",children:Object(x.jsx)(E,{product:e},e.id)},e.name)}))}),w()&&Object(x.jsx)(X,{pages:r})]})},G=(c(51),c(52),function(){return Object(x.jsxs)("section",{className:"no-search-result",children:[Object(x.jsx)("p",{className:"no-search-result__message",children:"No Search Result"}),Object(x.jsx)("p",{className:"no-search-result__description",children:"We can't find any item matching your search."})]})}),K=function(e){var t=e.products,c=Object(o.d)(),n=Object(l.a)(c,1)[0],a=Object(j.useCallback)((function(){return n.get("query")}),[n]),s=Object(j.useCallback)((function(){var e=a();return e?Object(k.a)(t).filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})):[]}),[n]);return s().length>0?Object(x.jsxs)("section",{className:"search-list",children:[Object(x.jsx)("p",{className:"search-list__number",children:"".concat(s().length," results")}),Object(x.jsx)(Y,{products:s()})]}):Object(x.jsx)(G,{})},Q=function(){return fetch("https://mate-academy.github.io/react_phone-catalog/api/products.json").then((function(e){return e.json()}))};!function(e){e.Phone="phone",e.Tablet="tablet",e.Accessories="accessories"}(R||(R={}));var V=function(){var e=Object(o.d)(),t=Object(l.a)(e,1)[0],c=Object(j.useState)([]),n=Object(l.a)(c,2),a=n[0],s=n[1],r=Object(j.useState)(!1),i=Object(l.a)(r,2),u=i[0],b=i[1],d=Object(j.useCallback)((function(){return t.get("query")}),[t]);return Object(j.useMemo)((function(){b(!0),Q().then((function(e){var t=e.filter((function(e){return e.type===R.Phone}));s(t)})).finally((function(){return b(!1)}))}),[]),d()?Object(x.jsx)(K,{products:a}):Object(x.jsxs)("section",{className:"phones",children:[Object(x.jsx)($,{}),Object(x.jsx)("h1",{className:"phones__title",children:"Mobile phones"}),Object(x.jsx)("p",{className:"phones__models-number",children:"".concat(a.length," models")}),Object(x.jsx)(W,{}),u?Object(x.jsx)(y,{}):Object(x.jsx)(x.Fragment,{children:a.length>0?Object(x.jsx)(Y,{products:a}):Object(x.jsx)(z,{category:R.Phone})})]})},Z=c(26),ee=(c(53),c(54),function(e){var t=e.details,c=e.generalData,n=t.android,a=t.display,s=t.id,r=t.images,i=t.name,o=t.storage,u=t.color,b=Object(j.useState)(r[0]),O=Object(l.a)(b,2),m=O[0],p=O[1],h=Object(j.useState)(u[0]),_=Object(l.a)(h,2),f=_[0],g=_[1],v=Object(j.useState)(o.flash),N=Object(l.a)(v,2),y=N[0],k=N[1],E=Object(j.useState)(null),A=Object(l.a)(E,2),F=A[0],P=A[1],I=Object(j.useState)(null),L=Object(l.a)(I,2),J=L[0],B=L[1],M=Object(j.useCallback)((function(e){p(e)}),[]),R=Object(j.useCallback)((function(e){g(e)}),[]),q=Object(j.useCallback)((function(e,t,c){"Enter"===e.key&&c(t)}),[]);return Object(j.useEffect)((function(){return p(r[0]),S(P),T(B),window.addEventListener("storage",(function(){S(P),T(B)})),function(){return window.removeEventListener("storage",(function(){S(P),T(B)}))}}),[t]),Object(x.jsxs)("section",{className:"product-info",children:[Object(x.jsx)("h1",{className:"product-info__title",children:i}),Object(x.jsxs)("div",{className:"product-info__wrapper-info",children:[Object(x.jsxs)("section",{className:"product-info__images",children:[Object(x.jsx)("div",{className:"product-info__column-images",children:r.map((function(e,t){return Object(x.jsx)("div",{className:d()("product-info__box-image",{"product-info__box-image--selected":e===m}),role:"button",tabIndex:t,onClick:function(){return M(e)},onKeyDown:function(t){return q(t,e,M)},children:Object(x.jsx)("img",{src:e,alt:"phone-1"})},e)}))}),Object(x.jsx)("div",{className:"product-info__box-large-image",children:Object(x.jsx)("img",{src:m,alt:"phone large"})})]}),Object(x.jsxs)("section",{className:"product-info__parameters",children:[Object(x.jsxs)("div",{className:"product-info__colors-container",children:[Object(x.jsx)("p",{className:"product-info__colors-title",children:"Available colors"}),Object(x.jsx)("div",{className:"product-info__colors-wrapper",children:u.map((function(e){return Object(x.jsx)("button",{type:"button",className:d()("product-info__color",{"product-info__color--active":e===f}),onClick:function(){return R(e)},"aria-label":"color",style:{backgroundColor:e}},e)}))})]}),Object(x.jsxs)("div",{className:"product-info__capacity-container",children:[Object(x.jsx)("p",{className:"product-info__capacity-title",children:"Select capacity"}),Object(x.jsx)("div",{className:"product-info__capacities-wrapper",children:[o.flash].concat().map((function(e){return Object(x.jsx)("button",{disabled:0===e.length,type:"button",className:d()("product-info__capacity",{"product-info__capacity--active":e===y}),onClick:function(){return k(e)},children:e||"- MB"},e)}))})]}),Object(x.jsxs)("div",{className:"product-info__shop-container",children:[Object(x.jsxs)("div",{className:"product-info__prices",children:[Object(x.jsx)("div",{className:"product-info__actual-price",children:"$".concat(c.price*((100-c.discount)/100))}),Object(x.jsx)("div",{className:"product-info__old-price",children:"$".concat(c.price)})]}),Object(x.jsxs)("div",{className:"product-info__buttons",children:[Object(x.jsx)("button",{className:d()("product-info__add-button",{"product-info__add-button--selected":C(F,c)}),type:"button",onClick:function(){return w("cart",c)},children:C(F,c)?"Added to cart":"Add to cart"}),Object(x.jsx)("button",{className:d()("product-info__button-favourite",{"product-info__button-favourite--selected":C(J,c)}),type:"button","aria-label":"add to favourites","data-cy":"addToFavorite",onClick:function(){return w("favourites",c)}})]})]}),Object(x.jsx)("table",{className:"product-info__main-characteristics",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Screen"}),Object(x.jsx)("td",{children:a.screenSize||"-"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Resolution"}),Object(x.jsx)("td",{children:a.screenResolution||"-"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"OS"}),Object(x.jsx)("td",{children:n.os||"-"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"RAM"}),Object(x.jsx)("td",{children:o.ram||"-"})]})]})})]}),Object(x.jsx)("div",{className:"product-info__id-product",children:"ID: ".concat(s)})]})]})}),te=(c(55),function(e){var t=e.details,c=e.generalData.snippet,n=t.battery,a=t.camera,s=t.connectivity,r=t.description,i=t.display,o=t.hardware,l=t.sizeAndWeight,u=t.storage;return Object(x.jsxs)("section",{className:"detiled-description",children:[Object(x.jsxs)("section",{"data-cy":"productDescription",className:"detiled-description__about",children:[Object(x.jsx)("h3",{className:"detiled-description__title-about title",children:"About"}),Object(x.jsx)("div",{className:"detiled-description__about-block",children:Object(x.jsxs)("div",{children:[Object(x.jsx)("h4",{className:"detiled-description__title-description",children:c}),Object(x.jsx)("p",{className:"detiled-description__text",children:r})]})})]}),Object(x.jsxs)("section",{className:"detiled-description__tech-specs",children:[Object(x.jsx)("h3",{className:"detiled-description__title-tech-specs title",children:"Tech specs"}),Object(x.jsx)("table",{className:"detiled-description__tech-specs-table",children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Screen"}),Object(x.jsx)("td",{children:i.screenSize||"-"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Resolution"}),Object(x.jsx)("td",{children:i.screenResolution||"-"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Processor"}),Object(x.jsx)("td",{children:o.cpu||"-"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"RAM"}),Object(x.jsx)("td",{children:u.ram||"-"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Battery"}),Object(x.jsx)("td",{children:n.type||"-"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Camera"}),Object(x.jsx)("td",{children:a.primary||"-"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Weight"}),Object(x.jsx)("td",{children:l.weight||"-"})]}),Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"Cell"}),Object(x.jsx)("td",{children:s.cell||"-"})]})]})})]})]})}),ce=function(e){var t=e.products,c=Object(u.p)().productId,n=void 0===c?"":c,a=Object(j.useState)(null),s=Object(l.a)(a,2),r=s[0],i=s[1],o=Object(j.useState)(!1),b=Object(l.a)(o,2),d=b[0],O=b[1],m=Object(j.useState)(null),p=Object(l.a)(m,2),h=p[0],_=p[1],f=Object(j.useCallback)((function(){O(!0),function(e){var t="https://mate-academy.github.io/react_phone-catalog/api/products/".concat(e,".json");return fetch(t).then((function(e){return e.json()}))}(n).then((function(e){return i(Object(Z.a)(Object(Z.a)({},e),{},{color:["black","silver","red"]}))})).finally((function(){return O(!1)}))}),[n]),g=Object(j.useCallback)((function(){for(var e=0;e<t.length;e+=1)if(t[e].id===n)return void _(t[e]);_(null)}),[t,n]);return Object(j.useEffect)((function(){g()}),[t,n]),Object(j.useEffect)((function(){f()}),[n]),Object(x.jsx)("section",{className:"product-details",children:d?Object(x.jsx)(y,{}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)($,{}),Object(x.jsxs)("div",{className:"product-details__buttons-container",children:[Object(x.jsx)("button",{"data-cy":"backButton",className:"product-details__button",type:"button","aria-label":"go back",onClick:function(){return window.history.back()}}),Object(x.jsx)("button",{type:"button",className:"product-details__back-button",onClick:function(){return window.history.back()},children:"Back"})]}),r&&h&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ee,{generalData:h,details:r}),Object(x.jsx)(te,{generalData:h,details:r}),Object(x.jsx)(A,{isLoading:d,products:t,title:"You may also like"})]}),!r&&!d&&Object(x.jsx)("div",{className:"product-details__wrapper-info",children:Object(x.jsx)(z,{category:"Product"})})]})})},ne=(c(56),function(){var e=Object(o.d)(),t=Object(l.a)(e,1)[0],c=Object(j.useState)([]),n=Object(l.a)(c,2),a=n[0],s=n[1],r=Object(j.useState)(!1),i=Object(l.a)(r,2),u=i[0],b=i[1],d=Object(j.useCallback)((function(){return t.get("query")}),[t]);return Object(j.useMemo)((function(){b(!0),Q().then((function(e){var t=e.filter((function(e){return e.type===R.Tablet}));s(t)})).finally((function(){return b(!1)}))}),[]),d()?Object(x.jsx)(K,{products:a}):Object(x.jsxs)("section",{className:"tablets",children:[Object(x.jsx)($,{}),Object(x.jsx)("h1",{className:"tablets__title",children:"Tablets"}),Object(x.jsx)("p",{className:"tablets__models-number",children:"".concat(a.length," models")}),Object(x.jsx)(W,{}),u?Object(x.jsx)(y,{}):Object(x.jsx)(x.Fragment,{children:a.length>0?Object(x.jsx)(Y,{products:a}):Object(x.jsx)(z,{category:R.Tablet})})]})}),ae=(c(57),function(){var e=Object(o.d)(),t=Object(l.a)(e,1)[0],c=Object(j.useState)([]),n=Object(l.a)(c,2),a=n[0],s=n[1],r=Object(j.useState)(!1),i=Object(l.a)(r,2),u=i[0],b=i[1],d=Object(j.useCallback)((function(){return t.get("query")}),[t]);return Object(j.useMemo)((function(){b(!0),Q().then((function(e){var t=e.filter((function(e){return e.type===R.Accessories}));s(t)})).finally((function(){return b(!1)}))}),[]),d()?Object(x.jsx)(K,{products:a}):Object(x.jsxs)("section",{className:"accessories",children:[Object(x.jsx)($,{}),Object(x.jsx)("h1",{className:"accessories__title",children:"Accessories"}),Object(x.jsx)("p",{className:"accessories__models-number",children:"".concat(a.length," models")}),Object(x.jsx)(W,{}),u?Object(x.jsx)(y,{}):Object(x.jsx)(x.Fragment,{children:a.length>0?Object(x.jsx)(Y,{products:a}):Object(x.jsx)(z,{category:R.Accessories})})]})}),se=(c(58),function(){var e=Object(o.d)(),t=Object(l.a)(e,1)[0],c=Object(j.useState)(null),n=Object(l.a)(c,2),a=n[0],s=n[1],r=Object(j.useCallback)((function(){return t.get("query")}),[t]);return Object(j.useEffect)((function(){return T(s),window.addEventListener("storage",(function(){T(s)})),function(){return window.removeEventListener("storage",(function(){T(s)}))}}),[]),r()?Object(x.jsx)(K,{products:a||[]}):Object(x.jsxs)("section",{className:"favourites",children:[Object(x.jsx)($,{}),Object(x.jsx)("h1",{className:"favourites__title",children:"Favourites"}),Object(x.jsx)("p",{className:"favourites__models-number",children:"".concat(null===a||void 0===a?void 0:a.length," models")}),a&&a.length>0?Object(x.jsx)(Y,{products:a}):Object(x.jsx)(z,{category:"Favourites"})]})}),re=(c(59),c(60),c(61),function(e){var t=e.product,c=e.setTotalCost,n=e.setTotalItems,a=Object(j.useState)(1),s=Object(l.a)(a,2),r=s[0],i=s[1],o=t.name,u=t.price,b=t.discount,d=t.imageUrl,O=r*(u*((100-b)/100)),m=Object(j.useCallback)((function(){var e=window.localStorage.getItem("cart");if(!e)return window.localStorage.setItem("cart",JSON.stringify([t])),void window.dispatchEvent(new Event("storage"));for(var a=JSON.parse(e),s=0;s<a.length;s+=1)if(a[s].id===t.id){var i=Object(k.a)(a);i.splice(s,1);var o=Object(k.a)(i);return window.localStorage.setItem("cart",JSON.stringify(Object(k.a)(o))),window.dispatchEvent(new Event("storage")),c((function(e){return e-O})),void n((function(e){return e-r}))}window.localStorage.setItem("cart",JSON.stringify([].concat(Object(k.a)(a),[t]))),window.dispatchEvent(new Event("storage"))}),[t,r]),p=Object(j.useCallback)((function(){i((function(e){return e-1})),n((function(e){return e-1})),c((function(e){return e-O}))}),[]),h=Object(j.useCallback)((function(){i((function(e){return e+1})),n((function(e){return e+1})),c((function(e){return e+O}))}),[]);return Object(j.useEffect)((function(){c((function(e){return e+O}))}),[]),Object(j.useEffect)((function(){n((function(e){return e+r}))}),[]),Object(x.jsxs)("li",{className:"cart-item",children:[Object(x.jsx)("button",{className:"cart-item__delete",type:"button","aria-label":"delete item",onClick:m}),Object(x.jsx)("div",{className:"cart-item__image-wrapper",children:Object(x.jsx)("img",{className:"cart-item__image",src:d,alt:"product"})}),Object(x.jsx)("p",{className:"cart-item__name",children:o}),Object(x.jsxs)("div",{className:"cart-item__quantity-items",children:[Object(x.jsx)("button",{className:"cart-item__decrease",type:"button","aria-label":"decrease",onClick:p,disabled:!r}),Object(x.jsx)("div",{className:"cart-item__quantity","data-cy":"productQuantity",children:r}),Object(x.jsx)("button",{className:"cart-item__increase",type:"button","aria-label":"increase",onClick:h})]}),Object(x.jsx)("div",{className:"cart-item__price",children:"$".concat(O)})]})}),ie=function(e){var t=e.products,c=e.setTotalCost,n=e.setTotalItems;return Object(x.jsx)("ul",{className:"cart-list",children:t.map((function(e){return Object(x.jsx)(re,{product:e,setTotalCost:c,setTotalItems:n})}))})},oe=function(){var e=Object(j.useState)(null),t=Object(l.a)(e,2),c=t[0],n=t[1],a=Object(j.useState)(0),s=Object(l.a)(a,2),r=s[0],i=s[1],u=Object(j.useState)(0),b=Object(l.a)(u,2),d=b[0],O=b[1],m=Object(j.useState)(!1),p=Object(l.a)(m,2),h=p[0],_=p[1];return Object(j.useEffect)((function(){return S(n),window.addEventListener("storage",(function(){S(n)})),function(){return window.removeEventListener("storage",(function(){S(n)}))}}),[window.localStorage]),Object(j.useEffect)((function(){var e=setTimeout((function(){_(!1)}),2e3);return function(){return clearTimeout(e)}}),[h]),Object(x.jsxs)("section",{className:"cart",children:[Object(x.jsxs)("div",{className:"cart__links-container",children:[Object(x.jsx)(o.b,{to:"/phones",className:"cart__back-link",children:Object(x.jsx)("button",{"data-cy":"backButton",className:"cart__back-button",type:"button","aria-label":"go back"})}),Object(x.jsx)(o.b,{to:"/phones",className:"cart__back-link",children:"Back"})]}),Object(x.jsx)("h1",{className:"cart__title",children:"Cart"}),Object(x.jsxs)("div",{className:"cart__shop-list",children:[Object(x.jsx)("div",{className:"cart__products",children:c&&c.length>0?Object(x.jsx)(ie,{products:c,setTotalCost:i,setTotalItems:O}):Object(x.jsx)("h3",{className:"cart__title-empty",children:"Your cart is empty"})}),Object(x.jsxs)("div",{className:"cart__checkout-wrapper",children:[Object(x.jsx)("div",{className:"cart__total-price",children:"$".concat(r)}),Object(x.jsx)("p",{className:"cart__total-products",children:"Total for ".concat(d," items")}),Object(x.jsx)("button",{className:"cart__checkout-button",type:"button",onClick:function(){return _(!0)},children:"Checkout"}),h&&Object(x.jsx)("div",{className:"cart__message",children:"We are sorry, but this feature is not implemented yet"})]})]})]})},le=(c(62),function(){return Object(x.jsxs)("section",{className:"not-found",children:[Object(x.jsx)("h1",{className:"not-found__title",children:"Oops!"}),Object(x.jsx)("p",{className:"not-found__message",children:"Page Not Found"}),Object(x.jsxs)("p",{className:"not-found__description",children:["Something went wrong and the page you're looking for",Object(x.jsx)("br",{}),"cannot be found."]}),Object(x.jsx)(o.b,{className:"not-found__to-home",to:"/",children:"Home Page"})]})}),ue=function(){var e=Object(j.useState)([]),t=Object(l.a)(e,2),c=t[0],n=t[1],a=Object(j.useState)(!1),s=Object(l.a)(a,2),r=s[0],i=s[1];return Object(j.useEffect)((function(){i(!0),Q().then((function(e){return n(e)})).finally((function(){return i(!1)}))}),[]),Object(x.jsxs)("div",{className:"page",children:[Object(x.jsx)(v,{}),Object(x.jsx)("main",{className:"main",children:Object(x.jsxs)(u.d,{children:[Object(x.jsx)(u.b,{path:"home",element:Object(x.jsx)(u.a,{to:"/"})}),Object(x.jsx)(u.b,{path:"/",element:Object(x.jsx)(D,{isLoading:r,products:c})}),Object(x.jsxs)(u.b,{path:"/phones",children:[Object(x.jsx)(u.b,{index:!0,element:Object(x.jsx)(V,{})}),Object(x.jsx)(u.b,{path:":productId",element:Object(x.jsx)(ce,{products:c})})]}),Object(x.jsxs)(u.b,{path:"/tablets",children:[Object(x.jsx)(u.b,{index:!0,element:Object(x.jsx)(ne,{})}),Object(x.jsx)(u.b,{path:":productId",element:Object(x.jsx)(ce,{products:c})})]}),Object(x.jsxs)(u.b,{path:"/accessories",children:[Object(x.jsx)(u.b,{index:!0,element:Object(x.jsx)(ae,{})}),Object(x.jsx)(u.b,{path:":productId",element:Object(x.jsx)(ce,{products:c})})]}),Object(x.jsxs)(u.b,{path:"/favourites",children:[Object(x.jsx)(u.b,{index:!0,element:Object(x.jsx)(se,{})}),Object(x.jsx)(u.b,{path:":productId",element:Object(x.jsx)(ce,{products:c})})]}),Object(x.jsx)(u.b,{path:"/cart",element:Object(x.jsx)(oe,{})}),Object(x.jsx)(u.b,{path:"*",element:Object(x.jsx)(le,{})})]})}),Object(x.jsx)(N,{pageUp:function(){window.scrollTo({top:0,behavior:"smooth"})}})]})};i.a.render(Object(x.jsx)(o.a,{children:Object(x.jsx)(ue,{})}),document.getElementById("root"))}]),[[63,1,2]]]);
//# sourceMappingURL=main.a01b684d.chunk.js.map